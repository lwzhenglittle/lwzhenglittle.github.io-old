<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://lwzheng.icu</id>
    <title>Lwz&apos;s Blog</title>
    <updated>2020-08-01T06:27:12.131Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://lwzheng.icu"/>
    <link rel="self" href="https://lwzheng.icu/atom.xml"/>
    <subtitle>zay的博客qwq</subtitle>
    <logo>https://lwzheng.icu/images/avatar.png</logo>
    <icon>https://lwzheng.icu/favicon.ico</icon>
    <rights>All rights reserved 2020, Lwz&apos;s Blog</rights>
    <entry>
        <title type="html"><![CDATA[ZeroTier使用说明（SRIES专版）]]></title>
        <id>https://lwzheng.icu/post/zerotier-shi-yong-shuo-ming-sries-zhuan-ban/</id>
        <link href="https://lwzheng.icu/post/zerotier-shi-yong-shuo-ming-sries-zhuan-ban/">
        </link>
        <updated>2020-08-01T06:05:16.000Z</updated>
        <summary type="html"><![CDATA[<p>本文为针对SRIES的ZeroTier使用说明，作者：zay</p>
]]></summary>
        <content type="html"><![CDATA[<p>本文为针对SRIES的ZeroTier使用说明，作者：zay</p>
<!-- more -->
<h1 id="0xff-前言">0xFF 前言</h1>
<p><a href="https://www.zerotier.com/">ZeroTier</a>是一个P2P内网穿透软件，可以建立虚拟局域网，官方提供一个中继节点，每个免费虚拟网络可以拥有100个客户端，无需付费，速度、延迟尚可，不受网络环境影响，无需各种科学上网方式。</p>
<p>使用ZT可以达到简便、快速联机的效果，配置好后使用极其方便，无需端口映射等复杂操作</p>
<h1 id="0x00-下载安装">0x00 下载安装</h1>
<p><a href="https://download.zerotier.com/dist/ZeroTier%20One.msi">下载地址</a></p>
<p>系统要求：Windows7及以上版本</p>
<p>安装过程一路下一步即可，如果弹出“安装网络设备”类似对话框，请点击“允许”</p>
<p>注意：部分Win7电脑可能无法正常安装ZT，无法正常打开ZT，遇到此类问题请私聊zay</p>
<h2 id="0x01-使用">0x01 使用</h2>
<p>安装完后，打开ZT，右键点击右下角任务栏中ZT，点击“Join Network”，在对话框中输入群里的“Network ID”，等待几分钟，右键ZT，点击“Show Network”，即可看到分配给你的虚拟IP地址（一般为“192.168.192”开头）</p>
<p>于是你就可以用这个IP地址和同样连入ZT的friends联机了</p>
<p>如果使用过程中出现了你无法自行解决的问题，请私聊zay</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[洛谷P1471 方差 解题记录]]></title>
        <id>https://lwzheng.icu/post/luo-gu-p1471-fang-chai-jie-ti-ji-lu/</id>
        <link href="https://lwzheng.icu/post/luo-gu-p1471-fang-chai-jie-ti-ji-lu/">
        </link>
        <updated>2020-06-29T13:24:06.000Z</updated>
        <summary type="html"><![CDATA[<p>通过这道题，我发现我是sb，大sb</p>
]]></summary>
        <content type="html"><![CDATA[<p>通过这道题，我发现我是sb，大sb</p>
<!-- more -->
<h1 id="题目描述">题目描述</h1>
<p><a href="https://www.luogu.com.cn/problem/P1471">原题链接</a><br>
求区间方差和区间平均数</p>
<p>第一行包含两个正整数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo separator="true">,</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">N,M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>，分别表示数列中实数的个数和操作的个数。<br>
第二行包含<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>个实数，其中第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>个实数表示数列的第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>项。<br>
接下来M行，每行为一条操作，格式为以下两种之一：<br>
操作一：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mtext> </mtext><mi>x</mi><mtext> </mtext><mi>y</mi><mtext> </mtext><mi>k</mi></mrow><annotation encoding="application/x-tex">1\ x\ y\ k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mspace"> </span><span class="mord mathdefault">x</span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span> ，表示将第x到第y项每项加上k，k为一实数。<br>
操作二：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mtext> </mtext><mi>x</mi><mtext> </mtext><mi>y</mi></mrow><annotation encoding="application/x-tex">2\ x\ y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mspace"> </span><span class="mord mathdefault">x</span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span> ，表示求出第x到第y项这一子数列的平均数。<br>
操作三：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn><mtext> </mtext><mi>x</mi><mtext> </mtext><mi>y</mi></mrow><annotation encoding="application/x-tex">3\ x\ y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">3</span><span class="mspace"> </span><span class="mord mathdefault">x</span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span> ，表示求出第x到第y项这一子数列的方差。</p>
<h1 id="思路">思路</h1>
<h2 id="查询的思路">查询的思路</h2>
<p>对于区间平均数，只需要求出区间和，除以区间长度</p>
<p>对于区间方差，需要稍微动动脑子（或者翻翻数学课本）<br>
先写出方差的“定义式”：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>s</mi><mn>2</mn></msup><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><mo>[</mo><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><mover accent="true"><mi>x</mi><mo>ˉ</mo></mover><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>(</mo><msub><mi>x</mi><mn>2</mn></msub><mo>−</mo><mover accent="true"><mi>x</mi><mo>ˉ</mo></mover><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>(</mo><msub><mi>x</mi><mn>3</mn></msub><mo>−</mo><mover accent="true"><mi>x</mi><mo>ˉ</mo></mover><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>…</mo><mo>+</mo><mo>(</mo><msub><mi>x</mi><mi>n</mi></msub><mo>−</mo><mover accent="true"><mi>x</mi><mo>ˉ</mo></mover><mo>)</mo><mo>]</mo></mrow><annotation encoding="application/x-tex">s^2=\dfrac{1}{n} [(x_1-\bar{x})^2+(x_2-\bar{x})^2+(x_3-\bar{x})^2+\ldots+(x_n-\bar{x})]
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8641079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">[</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;">ˉ</span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;">ˉ</span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;">ˉ</span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;">ˉ</span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></span></p>
<p>展开可得：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>s</mi><mn>2</mn></msup><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msup><msub><mi>x</mi><mi>i</mi></msub><mn>2</mn></msup><mo>−</mo><msup><mover accent="true"><mi>x</mi><mo>ˉ</mo></mover><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">s^2=\sum_{i=1}^{n} {x_i}^2 - {\bar{x}}^2
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8641079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.929066em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8641079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>所以对于查询，我们只需维护区间和和区间平方和</p>
<h2 id="修改的思路">修改的思路</h2>
<p>利用完全平方将加法展开：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><mi>k</mi><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>(</mo><msub><mi>x</mi><mn>2</mn></msub><mo>+</mo><mi>k</mi><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>(</mo><msub><mi>x</mi><mn>3</mn></msub><mo>+</mo><mi>k</mi><msup><mo>)</mo><mn>2</mn></msup><mo>+</mo><mo>…</mo><mo>+</mo><mo>(</mo><msub><mi>x</mi><mi>n</mi></msub><mo>+</mo><mi>k</mi><msup><mo>)</mo><mn>2</mn></msup><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msup><msub><mi>x</mi><mi>i</mi></msub><mn>2</mn></msup><mo>+</mo><mn>2</mn><mi>k</mi><mo>×</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mi>x</mi><mo>+</mo><mi>n</mi><msup><mi>k</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">(x_1+k)^2+(x_2+k)^2+(x_3+k)^2+\ldots+(x_n+k)^2=\sum_{i=1}^{n}{x_i}^2 + 2k\times \sum_{i=1}^{n}x + nk^2
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.929066em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.929066em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8641079999999999em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>于是我们就可以维护加法了</p>
<h1 id="代码">代码</h1>
<pre><code class="language-c++">#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
using namespace std;
struct Node{
    double val;//点值
    double tot;//平方和
    double tag;
}sgt[400010];
double a[100010];
int ls(int x){
    return x&lt;&lt;1;
}
int rs(int x){
    return x&lt;&lt;1|1;
}
void update(int root){
    sgt[root].tot=sgt[ls(root)].tot+sgt[rs(root)].tot;
    sgt[root].val=sgt[ls(root)].val+sgt[rs(root)].val;
    return ;
}
void build(int root,int l,int r){
    if(l==r){
        sgt[root].val=a[l];
        sgt[root].tot=sgt[root].val*sgt[root].val;
        return ;
    }
    int mid = (l+r)&gt;&gt;1;
    build(ls(root),l,mid);
    build(rs(root),mid+1,r);
    update(root);
    return ;
}
void pushdown(int root,int l,int r){
    int mid=(l+r)&gt;&gt;1;
    sgt[ls(root)].tot+=(2*sgt[root].tag*sgt[ls(root)].val+(mid-l+1)*sgt[root].tag*sgt[root].tag);
    sgt[rs(root)].tot+=(2*sgt[root].tag*sgt[rs(root)].val+(r-mid)*sgt[root].tag*sgt[root].tag);
    sgt[ls(root)].val=sgt[ls(root)].val+sgt[root].tag*(mid-l+1);//这个要后算，我是sb！！！！！！
    sgt[rs(root)].val=sgt[rs(root)].val+sgt[root].tag*(r-mid);
    sgt[ls(root)].tag+=sgt[root].tag;
    sgt[rs(root)].tag+=sgt[root].tag;
    sgt[root].tag=0;
    return ;
}
void add(int root ,int nl,int nr,int l,int r,double k){
    if(nl&gt;r||l&gt;nr){
        return ;
    }
    if(nl&gt;=l&amp;&amp;r&gt;=nr){
        sgt[root].tot+=2*k*sgt[root].val+(nr-nl+1)*k*k;
        sgt[root].val+=k*(nr-nl+1);
        sgt[root].tag+=k;
        return ;
    }
    pushdown(root,nl,nr);
    int mid = (nl+nr)&gt;&gt;1;
    add(ls(root),nl,mid,l,r,k);
    add(rs(root),mid+1,nr,l,r,k);
    update(root);
    return ;
}
double queryval(int root,int nl,int nr,int l,int r){
    if(nl&gt;r||l&gt;nr){
        return 0;
    }
    if(nl&gt;=l&amp;&amp;r&gt;=nr){
        return sgt[root].val;
    }
    pushdown(root,nl,nr);
    int mid = (nl+nr)&gt;&gt;1;
    return queryval(ls(root),nl,mid,l,r)+queryval(rs(root),mid+1,nr,l,r);   
}
double querytot(int root,int nl,int nr,int l,int r){
    if(nl&gt;r||l&gt;nr){
        return 0;
    }
    if(nl&gt;=l&amp;&amp;r&gt;=nr){
        return sgt[root].tot;
    }
    pushdown(root,nl,nr);
    int mid = (nl+nr)&gt;&gt;1;
    return querytot(ls(root),nl,mid,l,r)+querytot(rs(root),mid+1,nr,l,r); 
}
int main()
{
    int n,m;
    scanf(&quot;%d%d&quot;,&amp;n,&amp;m);
    for(int i=1;i&lt;=n;i++){
        cin&gt;&gt;a[i];
    }
    build(1,1,n);
    for(int i=1,typ,l,r;i&lt;=m;i++){
        double k;//要用double！！！！！！！！！
        cin&gt;&gt;typ&gt;&gt;l&gt;&gt;r;
        if(typ==1){
            cin&gt;&gt;k;
            add(1,1,n,l,r,k);
        }
        if(typ==2){
            double ans=queryval(1,1,n,l,r)/(double)(r-l+1);
            printf(&quot;%.04f\n&quot;,ans);
        }
        if(typ==3){
            double ans=querytot(1,1,n,l,r)/(double)(r-l+1);
            double tmp=queryval(1,1,n,l,r)/(double)(r-l+1);
            tmp=tmp*tmp;
            ans-=tmp;
            printf(&quot;%.04f\n&quot;,ans);
        }
    }
    return 0;
}
//
</code></pre>
<h1 id="总结">总结</h1>
<p>这题主要是推式子，不要想得太过复杂，注意查询的各个值的性质和计算方法</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[KMP学习笔记]]></title>
        <id>https://lwzheng.icu/post/kmp-xue-xi-bi-ji/</id>
        <link href="https://lwzheng.icu/post/kmp-xue-xi-bi-ji/">
        </link>
        <updated>2020-06-06T01:23:59.000Z</updated>
        <summary type="html"><![CDATA[<p>KMP是一种模式串匹配的字符串算法（其实只需要背背代码</p>
]]></summary>
        <content type="html"><![CDATA[<p>KMP是一种模式串匹配的字符串算法（其实只需要背背代码</p>
<!-- more -->
<p>首先理解KMP的思想</p>
<h1 id="先从暴力开始">先从暴力开始</h1>
<p>目前，我们有两个字符串</p>
<ul>
<li>模式串：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span></li>
<li>字符串：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span></li>
</ul>
<p>要求出<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>中出现了多少次，很容易想到暴力的算法。<br>
每次在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>中枚举开头，发现失配就换下一个位置<br>
时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>S</mi><mi>T</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">O(ST)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mclose">)</span></span></span></span></p>
<p>弱数据可做，强数据很容易卡</p>
<h1 id="慢在哪里">慢在哪里</h1>
<p>显而易见，每次失配后向后挪一个位置继续匹配是变慢的根本原因<br>
我们能否根据每次匹配后的已知数据，不从头开始枚举，而是从特定位置开始匹配，节省时间</p>
<p>考虑样例：</p>
<pre><code class="language-plaintext">S : aabaab
T : aabaaabaab
</code></pre>
<p>在第六位失配，我们可以直接从第五位开始继续匹配。<br>
怎样确定失配的时候要向前跳几位呢</p>
<h1 id="next">next</h1>
<p>对于模式串，我们维护一个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>e</mi><mi>x</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">next</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span></span></span></span>数组<br>
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>e</mi><mi>x</mi><mi>t</mi><mo>[</mo><mi>i</mi><mo>]</mo></mrow><annotation encoding="application/x-tex">next[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>表示第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>位失配后跳到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>e</mi><mi>x</mi><mi>t</mi><mo>[</mo><mi>i</mi><mo>]</mo></mrow><annotation encoding="application/x-tex">next[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>位<br>
维护<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>e</mi><mi>x</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">next</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span></span></span></span>只需要对模式串本身做一次匹配即可</p>
<pre><code class="language-cpp">nxt[1]=0;//nxt数组中第一位应该是0，表示边界条件
for(int i=1;i&lt;s.length();i++){
    int j=nxt[i];
    while(j&amp;&amp;s[i]!=s[j]){//当前未跳到边界且仍然无法与前缀匹配时继续往前跳
        j=nxt[j];
    }
    if(s[i]==s[j]){//当前位与前缀某一位可以匹配时，当前位的下一位失配应该跳到目前被匹配位置的下一位
        nxt[i+1]=j+1;
    }
    else {
        nxt[i+1]=0;//若当前位无法与任何一个前缀位置匹配，则当前位是一个匹配边界
    }
}
</code></pre>
<h1 id="匹配">匹配</h1>
<p>匹配本身和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>e</mi><mi>x</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">next</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span></span></span></span>数组的处理方式很相似</p>
<pre><code class="language-cpp">for(int i=0,j=0;i&lt;t.size();i++){//此处i为字符串当前位置，j为模式串已匹配长度
    while(j&amp;&amp;t[i]!=s[j]){
        j=nxt[j];
    }
    if(t[i]==s[j]){
        j++;
    }
    if(j==s.size()){//如果匹配长度等于模式串长度，说明模式串在字符串中完整出现了一次
        ans++;//此处也可修改成其他内容来记录模式串出现的位置
    }
}
</code></pre>
<h1 id="总结">总结</h1>
<p>KMP没什么拓展，主要是理解这种类似“指针”的思想，减少复杂度<br>
代码还是要多写多练</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[解毒：开源和GitHub]]></title>
        <id>https://lwzheng.icu/post/jie-du-kai-yuan-he-github/</id>
        <link href="https://lwzheng.icu/post/jie-du-kai-yuan-he-github/">
        </link>
        <updated>2020-05-11T01:30:10.000Z</updated>
        <summary type="html"><![CDATA[<p>我很久以前就有把GitHub变成开源社区而不仅仅是代码托管平台的想法，最近不论是AO3还是阅文都让我感觉这很可行，但也意识到了局限性。</p>
]]></summary>
        <content type="html"><![CDATA[<p>我很久以前就有把GitHub变成开源社区而不仅仅是代码托管平台的想法，最近不论是AO3还是阅文都让我感觉这很可行，但也意识到了局限性。</p>
<!-- more -->
<h1 id="先说开源">先说开源</h1>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Win10下怎样优雅使用VSCode写题]]></title>
        <id>https://lwzheng.icu/post/win10-xia-zen-yang-you-ya-shi-yong-vscode-xie-ti/</id>
        <link href="https://lwzheng.icu/post/win10-xia-zen-yang-you-ya-shi-yong-vscode-xie-ti/">
        </link>
        <updated>2020-04-12T10:11:42.000Z</updated>
        <summary type="html"><![CDATA[<p>VSCode作为宇宙最强编辑器，拥有友好的界面，强大的插件，强大的补全功能，但在Win10下用VSCode写C++切题还是比较复杂的，本文将为你介绍最简单的方式。</p>
]]></summary>
        <content type="html"><![CDATA[<p>VSCode作为宇宙最强编辑器，拥有友好的界面，强大的插件，强大的补全功能，但在Win10下用VSCode写C++切题还是比较复杂的，本文将为你介绍最简单的方式。</p>
<!-- more -->
<h1 id="准备工作">准备工作</h1>
<p>首先，检查Win10版本：<br>
进入设置-&gt;系统-&gt;关于，查看windows版本，如下图，如果大于等于1809，即可使用，若小于1809，请打开Windows Update并确保C:\盘有大于50GiB的可用空间，更新Win10<br>
<img src="https://i.loli.net/2020/04/12/HCQpMZbhfAz6F4B.png" alt="找到对应的四位数版本号" loading="lazy"></p>
<h1 id="安装windows-subsystem-for-linux">安装Windows Subsystem For Linux</h1>
<p>检查完版本后，进入控制面板：<br>
右键桌面“此电脑”-&gt;属性-&gt;地址栏“所有控制面板项”-&gt;程序和功能-&gt;左侧“打开或关闭Windows功能”，选中带有&quot;Linux子系统&quot;字样的唯一一项，选中后会开始安装功能，等待约1~10min，之后点击“现在重启计算机”<br>
<img src="https://i.loli.net/2020/04/12/lhcm6rCJ3UZ7vN9.png" alt="如图" loading="lazy"></p>
<p>重启完成后，打开Microsoft Store，搜索Ubuntu，如下图<br>
<img src="https://i.loli.net/2020/04/12/MRk7tqeSJmUNbFp.png" alt="注意不要选择带有版本号的版本" loading="lazy"></p>
<p>点击获取，然后点击安装，安装后在开始菜单中打开Ubuntu<br>
第一次会让你设置用户名和密码，注意提示，密码不显示属于正常现象，请牢记你设置的密码</p>
<p>接下来在Ubuntu中执行以下命令：</p>
<pre><code class="language-bash">sudo sed -i 's/archive.ubuntu.com/mirrors.ustc.edu.cn/g' /etc/apt/sources.list
sudo sed -i 's/security.ubuntu.com/mirrors.ustc.edu.cn/g' /etc/apt/sources.list
sudo apt update
sudo apt install gcc g++
</code></pre>
<p>其中第一次执行带有<code>sudo</code>的命令会要求输入密码<br>
等待命令执行完成，WSL就安装完了</p>
<h1 id="安装vscode及插件">安装VSCode及插件</h1>
<p>到官网下载VSCode，不再赘述<br>
下载后安装以下插件：</p>
<pre><code class="language-plain">Remote - WSL
C++
Chinese (Simplified) Language Pack for Visual Studio Code
</code></pre>
<p>可按照个人喜好安装皮肤插件，更改字体<br>
教程可自行查找<br>
安装完插件后重启VSC，点击左下角&quot;&gt;&lt;&quot;图标，选择“Remote-WSL:New Window”，会弹出新窗口，等右下角进度条走完不再弹窗，打开插件界面，将本地插件安装到Remote<br>
使用Ctrl+Shift+~打开终端，在终端使用<code>mkdir xxx</code>命令创建一个名为&quot;xxx&quot;的文件夹，点击VSC上方最左侧的“文件”选项，点击“打开文件夹”，并选择你刚刚创建的文件夹<br>
之后，你就可以按Ctrl+N，新建空文件，Ctrl+S保存，重命名时记得把扩展名改为.cpp</p>
<h1 id="编译与调试">编译与调试</h1>
<p>编译极其简单，在终端中输入<code>c++ -o xxx xxx.cpp</code>，即可编译。<br>
运行只需要输入<code>./xxx</code>即可运行<br>
调试请自行寻找教程</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[用户下沉，应该怎样面对]]></title>
        <id>https://lwzheng.icu/post/yong-hu-xia-chen-ying-gai-zen-yang-mian-dui/</id>
        <link href="https://lwzheng.icu/post/yong-hu-xia-chen-ying-gai-zen-yang-mian-dui/">
        </link>
        <updated>2020-04-11T14:17:40.000Z</updated>
        <summary type="html"><![CDATA[<p>作为一个2015年进入b站，2017年进入知乎，见识了一次大规模用户下沉，参加了一次用户下沉的用户，我对用户下沉还是有一定话语权的。</p>
]]></summary>
        <content type="html"><![CDATA[<p>作为一个2015年进入b站，2017年进入知乎，见识了一次大规模用户下沉，参加了一次用户下沉的用户，我对用户下沉还是有一定话语权的。</p>
<!-- more -->
<p>前言：这篇文章拖了好久了，找了四个审稿人审稿，我感觉实在不能拖下去了。<br>
ps.由于我出了W太过猖狂，导致被一位重要审稿人拉黑，所以部分内容可能存在纰漏</p>
<h1 id="用户下沉是什么">用户下沉是什么</h1>
<p>用户下沉指企业为了获取更多流量，去深挖下一层级的用户。<br>
用户下沉的主体不一定是企业，许多突发事件也会导致用户下沉<br>
也就是所谓的“出圈”<br>
顺便po一下几个证据：（图片均截图于2020-04-11）<br>
<img src="https://i.loli.net/2020/04/11/Owj7uamxYGvb6kc.png" alt="B站创作中心，id：lwzheng12138" loading="lazy"></p>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2020/04/11/eiFM7InkghvX8xu.jpg" alt="知乎提出问题界面" loading="lazy"></figure>
<h1 id="正文">正文</h1>
<p>用户下沉对于我来说不算陌生，对b站来说，每次奇怪事件的发生都会导致用户下沉。<br>
用户下沉一定会影响社区氛围，有时候会导致社区氛围变好，也有时候会导致社区氛围变坏。<br>
关键在于管理者如何处理用户下沉。<br>
声明：本文所有内容均来自我个人的经历以及他人讲述，如果你认为和你的观点和经历有出入，可以在评论区友好提出</p>
<h2 id="知乎">知乎</h2>
<p>构建社区氛围的一个重要方式是“邀请注册”。<br>
知乎就是用户下沉活生生的例子。<br>
七八年前，知乎真的是人均985，当时的知乎严格实行邀请制注册，学习国外的Quora，遍地行业精英，各种顶尖人才在知乎圈地自萌，各自在自己擅长的领域发表自己的意见，学习其他领域，参考他人的意见。每个问题就是一个小论坛，小社区。这种“圆桌”式的半封闭讨论形式给了真正的大佬满足自己表达欲望的机会。</p>
<p>但是知乎很快遇到了瓶颈，用户局限于名校学生老师，行业精英，新话题创造的新大V也很有限。<br>
2016年，知乎开放注册，知乎开始出现大量情感话题，出现匿名的讲故事回答，知乎开始“贴吧”化，“QQ空间”话，各类段子层出不穷。但是早期用户仍然占领主导地位。</p>
<p>我2017年年中进入知乎的时候见过许多现在都一直流传的神仙回答，包括各种神预言，各种神分析，现在看来，“理性分析”仍然是知乎整个平台的主旋律，反而是下沉市场为知乎增添了娱乐因素，可谓画龙点睛。“知乎宇宙”“以x为开头写一个故事”等话题的出现极大丰富了知乎的内容，让整个社区更有活力，吸引更多用户。知乎官方也开始紧随热点，引导社区氛围走向，几乎每个社会热点都会及时跟进，知乎通过用户下沉成功成为中国互联网信息传播链上的一员，也成为了几乎是整个互联网最理智，最深度的社区。</p>
<p>知乎用户下沉也并不是一帆风顺，知乎现在相当于没有入门门槛，自然会出现许多水军和低龄用户，（比如我），知乎能够成功拿到下沉市场的关键在于初期的用户氛围和本身作为问答平台的特点。作为问答平台，讲究一个认同感，用户认同答主的答案，答案就能脱颖而出，获得靠前的排名，而低质量的内容则无法通过大V与普通用户们的筛选，甚至可能被折叠。知乎对内容的人工筛选和机器筛选做的非常好，低质量问题和回答会被责令修改，而不是放任他们，让他们存在。</p>
<p>知乎用户下沉带来的负面影响根本上是短时间内导致部分创作者失去积极性，这一根本影响又导致了短时间内容质量下降和内容不可控。</p>
<p>知乎也经历了“举报风波”，2018年，知乎曾遭遇因zzmg内容导致的7天下架，重新上架后知乎禁止了任何形式的政治内容，时事内容也需要通过严格审核，封号机制也逐渐建立。</p>
<p>总结一下，知乎的下沉主要给平台带来了正面影响，扩大了用户受众，丰富了内容，活跃了社区氛围，属于用户下沉的成功案例，这与平台本身作为问答平台的性质、老用户高素质、管理层正确的内容引导有关。虽然许多老用户仍然认为知乎变了，但是我作为一个真真正正参与到这次用户下沉的用户，我认为知乎确实变了，变得更好了。</p>
<h2 id="b站">b站</h2>
<p>b站与知乎相同，也是UGC平台。与知乎不同的是，b站背后有巨大的资本，而且作为上市公司，必须把“盈利”问题优先解决。</p>
<p>b站目前为止仍然具有相对整个互联网来说不低的入门门槛，“40弹幕礼仪+60自选”的100道选择题依然存在，虽然难度相比五年前有很大的削弱，但是还是挡住了去年的大量蔡徐坤粉丝涌入b站和今年xzf涌入b站。</p>
<p>b站存在等级制度，不同等级有不同权限，“弹幕”“评论”等权限只有达到一定等级才能拥有，而升级只能通过充值，投币，观看视频三个方式，这确保了新用户在参与讨论之前能对整个b站的社区文化又一定了解，很好地维护了b站的社区氛围，保证了只有b站的目标群体才能控制b站的内容，也让官方具有引导内容走向的能力。</p>
<p>b站最初是一个ACG爱好者圈地自萌的UGC平台，如果要我来说的话，b站第一次破圈应该是“鬼畜”。<br>
相比于b站同期的其他内容，“鬼畜”更急通俗易懂，更具有“泛娱乐”性质，相对来说更大众化。鬼畜视频当初在贴吧，QQ空间，各大BBS的传播大大增加了b站的曝光量。b站的泛娱乐性质逐渐增强。</p>
<p>和鬼畜同期的，还有游戏。比我入站更早的老人应该还记得当时b站游戏区视频几乎是清一色mc，东方，音游，mugen。随着b站用户越来越多，像“逍遥散人”“少年pi”“老番茄”“神奇路夫人”“中国boy”（排名不分先后）等五位六位uid的游戏区up主逐渐进入，b站另一波用户下沉就发生在游戏区。</p>
<p>从<a href="https://www.bilibili.com/read/cv827403/">中庸电视：【B站考古】不同位数UID的注册时间</a>这篇文章中可以看出，六位uid用完用了两年时间，七位uid用完用了不到两年（此处存疑，但毫无疑问七位uid时期用户增长比六位时期要快很多），b站逐步积累起一批核心“用户”（注意是“用户”而不是“内容创作者”），这批用户目前大多数已经lv5，小部分lv6（只看不发视频的用户，不看视频作者和搬运工）</p>
<p>我便是2015年第一批八位uid（11644293）用户，当时b站的游戏区如日中天，科技区正在逐步崛起。</p>
<p>游戏区为b站带来了一批不是很懂ACG文化的游戏玩家，这部分用户受到up主的影响，逐步进入动画区，逐步了解了ACG文化，并没有给b站带来大量低质量用户。这个时间段的大多数用户仍然是看到视频主动进入b站，而不是被平台被动吸收，准确地说，这部分用户不能算下沉市场的用户。</p>
<p>从2015年开始，b站真正驶上了发展快车道。八位uid用了不到两年就用完了。b站开始出现vlog作者，科技区投稿量、播放量猛增，各类“野生技术协会”开始进入b站，客观真实的数码产品评测如雨后春笋般出现“科技美学”等up主的视频播放量开始上涨。“科技”“鬼畜”“舞蹈”“生活”成为独立分区，“游戏”继续维持一家独大，“生活”开始迅速膨胀，许多游戏区up主开始兼职vlog。</p>
<p>游戏区和生活区膨胀带来的是内容的低质量。游戏和生活两区基本盘较小，内容有限，劣质视频数不胜数，但这两个分区仍然是由顶端up主收割流量。b站看到顶流up主的流量红利，开始与他们签订协议，自此，b站诞生了许多“全职up主”。</p>
<p>随着b站流量逐渐增多，从2015年起，大大小小的资本盯上了这块蛋糕，各路资本开始对b站进行大大小小的融资，b站各平台客户端也开始出现广告，手机app也紧跟潮流做了动态、专栏、无视频音乐专区、会员购。BML的规模越来越大，票价越来越贵。在2017年，b站开始举办Bilibili World，相当于b站官方漫展。最初的入站100题经过多次迭代，弹幕礼仪部分难度不变，但变成了“一次过”形式，做错一道题不需要重来，自选部分难度大大降低，但仍有门槛作用。一定程度上保证了b站的社区氛围。</p>
<p>用户下沉对b站最大的影响应该是内容形式的多样化。b站从小众亚文化平台逐步转变成“中国的Youtube”，转变成大众泛娱乐平台。ACG内容仍然是b站主打内容，但已经不是大部分用户的目标内容。现在去看b站顶流up主的热评，lv4用户为主，lv5用户明显较少，uid大于等于八位的新up评论区逐渐出现lv3lv2的准新用户，而老up主评论区则主要是lv5用户。硬核向内容观众群体也以老用户为主。</p>
<p>b站的用户下沉直接改变了b站的角色，让b站完成了转型，和知乎一样，它通过打开下沉市场成功成为互联网信息传播链条上不可或缺的一环，这一点从各大官媒纷纷入驻b站可以看出。b站良好的社区环境并没有因此产生太大的改变，但是出现了令人担忧的锤人风气，可以算是用户下沉带来的负面影响。b站也曾经历了多次举报风波，但因为背后有资本支撑，用户门槛比较高，影响甚至小于现在盛行的锤人风气。b站至今为止仍然是国内互联网环境最好的的以视频形式为主的UGC平台。但我相信，它可以更好。</p>
<h2 id="lofter">Lofter</h2>
<p>Lofter本身很特殊。</p>
<p>Lofter本身也是内容驱动的平台，但Lofter是三个平台中用户数量最少的。我QQ好友列表的活人中有70%听过知乎，有50%是知乎用户；几乎所有人都知道b站，90%是b站用户。但是Lofter用户，算上我只有三个，而且两个用户都是资深用户，使用时间超过2年。</p>
<p>这让Lofter本身有一种“高大上”的气质，类似于早年的b站和知乎。</p>
<div style='display: none'>
提纲：
与知乎类似（图文）
与b站类似（亚文化）
本身局限（内容）
用户基数，吸收方式（用户主动）
</div>
<p>Lofter的内容以图文为主，这和知乎相似，为创作者和用户都提供了一个比较低的门槛。这让它在吸收创作者方面有比较大的优势，也能够诞生出比较多的优质内容。同时图文内容也降低了筛选内容的难度。从我个人使用经历来看，我不喜欢的内容在预览界面我都不会点进去，优质内容则会仔细阅读，读完点赞。各种画作也是可以直接预览，大大降低了筛选内容的时间成本。</p>
<p>Lofter本身是亚文化圈子的集合，本身并没有大众内容，各种亚文化相对独立，用户有自己喜欢的圈子，在自己喜欢的圈子中活动。虽然这导致整个社区略有内卷，有一定的用户局限性，但这种形式决定了Lofter中不会出现过于令人不适的内容，也不会短时间内出现大量创作者流失和整体内容质量。</p>
<p>Lofter本身吸引用户的模式并不是官方下场推广，据我了解，Lofter吸引用户以朋友安利和用户自主流入为主。一般是用户发现Lofter上有自己感兴趣的内容，自发进入平台。这也导致Lofter并没有短时间大规模用户涌入，也比较难以形成全站大众化的内容。用户聚集于自己的亚文化圈子，圈子之间互动相对来说也比较少。</p>
<p>Lofter本身用户素质很高，平台本身有很成熟的屏蔽机制，用户可以轻易屏蔽自己不想看到的内容，只看自己想看自己喜欢的内容，避免了很多撕逼。Lofter本身的内容限制了它无法成为大众娱乐，平台只提供平台，社区基本上只依靠内容创作者和用户自行维护。可以说从根本上杜绝的冲突的发生。</p>
<p>我个人认为Lofter目前为止实现了用户的良性循环，用户数量稳步增加，内容质量没有下降，甚至部分新用户带来了新的内容形式，活跃了社区氛围。我个人认为，Lofter将以这种良性循环发展下去，不会出现严重的内容质量问题和用户质量问题。由于我个人使用Lofter时间并不长，内容主要来源于他人讲述，这部分内容不再深入分析。我写Lofter主要原因是这也是个很有代表性的UGC平台，不排除在未来我会对这部分内容进行补充。</p>
<h1 id="总结">总结</h1>
<div style='display: none'>
先坑着，等我写完作业更新。
提纲：
各平台异同
下沉用户与核心用户的矛盾
解决矛盾（两者共存问题）
对待下沉用户的正确态度
</div>
总结部分分几个小标题来写吧，相对来说比较直观
<h2 id="矛盾">矛盾</h2>
<p>其实平台开拓下沉市场，最大的矛盾是下沉用户和核心用户之间的矛盾。正确处理这两者之间的矛盾便能正确处理用户下沉带来的问题。<br>
下沉用户不一定能够完全接受并融入由核心用户营造的社区氛围，核心用户不一定能够接受新人创作者的内容和新用户的态度。<br>
其次就是核心用户在社区内的各种“潜规则”各种“黑话”有的时候可能对于下沉用户不是很友好，下沉用户本身也并不想“混”这个圈子，只是单纯对内容感兴趣，但他们在对内容做出评价的时候往往被核心用户认为是破坏了社区环境，甚至一部分亚文化圈子非常害怕得到外界关注，没有大佬带路几乎不可能融入圈子。</p>
<h2 id="解决">解决</h2>
<p>解决矛盾，良好的引导是上上策。</p>
<p>要解决用户下沉带来的矛盾需要核心用户的努力。核心用户和社区管理方应做好内容导向，加强内容监管，让新的内容创作者们知道什么内容是合适的，什么内容是不能被接受的。</p>
<p>还要建立适当的用户门槛，对下沉用户进行引导，保证真正想进来的用户有能力跨过门槛，，将低质用户拒之门外，保护好社区氛围。</p>
<p>平台方也应该将部分监管权限下方，让资历足够的核心用户参与社区管理，给予他们高权重举报，投票封禁用户的权限，让他们帮助净化社区环境。</p>
<p>良好的引导和恰当的门槛能保证用户质量不会触碰到底线，一味排外只会导致圈子越来越小，留下来的只有越来越核心的用户，只会导致核心用户和下沉用户的差距越来越大，核心用户越来越无法接受用户质量的落差，最终导致一个亚文化的消亡。</p>
<p>总结来说，用户下沉是一个内容创作社区成为大众娱乐过程中必经的环节，但只要处理适当，用户下沉能为社区带来活力，让社区更加有血有肉。同时也希望b站能够度过当下的难关，成为真正的成熟的社区，被越来越多的人所接受。</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[从《三体》的角度来看全球疫情]]></title>
        <id>https://lwzheng.icu/post/cong-lesslesssan-ti-greatergreater-de-jiao-du-lai-kan-quan-qiu-yi-qing/</id>
        <link href="https://lwzheng.icu/post/cong-lesslesssan-ti-greatergreater-de-jiao-du-lai-kan-quan-qiu-yi-qing/">
        </link>
        <updated>2020-04-05T12:34:38.000Z</updated>
        <summary type="html"><![CDATA[<p>作为《三体》系列的老读者，看到知乎上<a href="https://www.zhihu.com/question/381161861/answer/1124023064">这个问题</a>以后，也想来写写我的观点</p>
]]></summary>
        <content type="html"><![CDATA[<p>作为《三体》系列的老读者，看到知乎上<a href="https://www.zhihu.com/question/381161861/answer/1124023064">这个问题</a>以后，也想来写写我的观点</p>
<!-- more -->
<h1 id="0x01-他">0x01 他</h1>
<p>在国内来说，无论是新冠疫情，还是三体危机，都有一个男人<br>
他们有着共同的平庸而伟大的父亲<br>
他们敢于做出正确的选择<br>
他们能够关键时刻挺身而出，力挽狂澜<br>
他们敢为人先，站于人前，顶天立地<br>
向南山、北海致敬</p>
<h1 id="0x02傲慢">0x02傲慢</h1>
<blockquote>
<p>「弱小和无知不是生存的障碍，傲慢才是。」</p>
</blockquote>
<p>全球疫情伊始，除中国以外的国家自认为医疗水平强大，认为可以靠医疗水平解决一切，不需要因此放缓经济发展。<br>
但他们错了。<br>
作为发达国家，他们的确有发达的技术，强大的医疗水平，强大的资本。<br>
他们不弱小，也不无知。<br>
《三体》中的人类，在建立威慑前制造了大量星际战舰，开始不思进取，固步自封，迎来了水滴和两千响鞭炮，在威慑建立后把三体危机抛之脑后，甚至“审判”了“青铜时代”号，让水滴扶持程圣母成为执剑人，丧失了作为文明的尊严。<br>
他们也不弱小，也不无知。</p>
<p>他们都傲慢。</p>
<p>傲慢导致了多个国家根本无法控制疫情（星条就是说的你），等领导人意识到问题的时候已经一发不可收拾，整个国家正在新冠病毒的泥潭中越陷越深，越来越难以解决，最终也许只能靠牺牲一部分人来换取另一部分人的生存，说新冠肺炎是当代发达国家的“大低谷”一点都不为过。<br>
傲慢使他们错过了最好的时机，也给了我们崛起的机会。<br>
相对而言，我们的医疗水平的确比发达国家弱，我们的技术水平仍然没有达到顶端。<br>
疫情面前，正因为我们不盲目自信医疗水平，医疗基层两手抓，既向严重地区多次派出大批医疗队并紧锣密鼓展开研究，又强制我们居家隔离，戴口罩，出入登记，制作健康码，在疫情面前一丝不苟，谦虚面对，我们才能够创造“中国奇迹”，让一个十四亿人口的国家仅有八万余人感染，而死亡数更是只有不到四千人。<br>
只有谦虚，才能控制疫情传播。<br>
只有谦虚，才能战胜三体危机。</p>
<h1 id="0x03生存是文明的第一需要">0x03生存是文明的第一需要</h1>
<blockquote>
<p>「生存是文明的第一需要」</p>
</blockquote>
<blockquote>
<p>「生存本来就需要争取，什么时候成了理所当然」</p>
</blockquote>
<p>在这场疫情中，每个国家就是一个微缩的相对独立的文明<br>
《三体》中，叶老师提到：“生存是文明的第一需要”<br>
“大低谷”纪念碑上写道：“给岁月以文明，而不是给文明以岁月”<br>
对于每一个个体来说，生存永远是最重要的。<br>
全球疫情开始发展的时候，出现了各种各样截胡的现象，这都是为了生存。<br>
股市恐慌，人们开始疯狂抛售股票，美股的四次熔断，这都算是为了生存。<br>
生命让一切有意义，没有生命，就是失去了一切。<br>
在这场疫情中，到了现在，不争取生存，永远只有死路一条。</p>
<h1 id="0x04-团结">0x04 团结</h1>
<blockquote>
<p>「即使在面临共同的敌人时，人类也永远不可能团结起来。」</p>
</blockquote>
<p>新冠病毒显然算是全人类共同的敌人。<br>
人总会有私心。<br>
即使到了这个时候，仍然有国家不遗余力地做出匪夷所思的事情。<br>
对自己国家的疫情不管不问，对别的国家指指点点。<br>
嘴脸丑恶。</p>
<blockquote>
<p>「人类不感谢罗辑」</p>
</blockquote>
<p>即使到了这时候，仍然有人对钟院士的“1200挂号费”以及他儿子指手画脚<br>
钟院士即使北海，也可以是罗辑<br>
不感谢有点极端，但是我们不能否认总是有阴阳怪气存在，影响我们的的团结</p>
<h1 id="0x05-总结">0x05 总结</h1>
<p>我个人知识水平有限，暂时也只能想到这里<br>
我曾经也认为，《三体》中的人类太蠢，缺乏人性，或者说人性不健全<br>
但现在看来，的确有一部分人的“人性”就是这样——傲慢，贪婪，自私<br>
只有像疫情这样的全球性“灾难”，才能真正让我们了解到“人性”，看清每一种“人”，意识到“生存”的可贵，意识到“生存”也是需要争取的，意识到“团结”才能跨国难关<br>
这次疫情让我们真正看清了所谓的“民主”，所谓的“自由”<br>
也让我们看到了真正“理智”的国家，真正“理智”的人民<br>
国际疫情越是严重，我们越要重视，不能沾沾自喜，心态决定了我们能否彻底战胜新冠肺炎。<br>
在此也向大刘致以敬意，大刘真的是有水平的科幻作家。<br>
这里转载茶苓的一首诗，沉痛悼念为此次疫情做出牺牲的人，向他们致以崇高敬意，你们是英雄。</p>
<blockquote>
<p>医院嘈杂的声音<br>
洁白的墙壁溅上了离世的悲伤<br>
我看不到<br>
我缩在家里<br>
孩童不解地询问人死去往哪里<br>
老人绝望地闭上沧桑的眼睛<br>
他说，去往很远的地方<br>
呼吸机的声音<br>
往来不息焦急的抢救<br>
哭泣，愤怒，不知所措<br>
在很远的地方重归寂静<br>
她说，<br>
去往很远的地方<br>
哭干的嗓子<br>
支离破碎的家<br>
在那很远的地方重归寂静<br>
不论是春夏秋冬<br>
总有一天我要走出去的<br>
当我揉着凌乱的头发<br>
苦笑着补起作业，拉下的科目<br>
即便不相识<br>
他们也在很远的地方<br>
看着幸存的人背负着他们的愿望<br>
迈向他们永远不能再次相见的<br>
幸存的春天</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[我对知乎的理解]]></title>
        <id>https://lwzheng.icu/post/wo-dui-zhi-hu-de-li-jie/</id>
        <link href="https://lwzheng.icu/post/wo-dui-zhi-hu-de-li-jie/">
        </link>
        <updated>2020-03-27T13:33:53.000Z</updated>
        <summary type="html"><![CDATA[<p>泻药，人在桌前，刚下床，写写我对知乎的认识，也让不知道知乎是啥的人能对它有个初步认识</p>
]]></summary>
        <content type="html"><![CDATA[<p>泻药，人在桌前，刚下床，写写我对知乎的认识，也让不知道知乎是啥的人能对它有个初步认识</p>
<!-- more -->
<h1 id="0x00-开始">0x00 开始</h1>
<p>我应该是2017年初进入知乎的，当时对知乎的印象停留在“高级版的百度知道”，认为知乎内容很优质，各类观点比较可信，平台本身比较可靠，也比较小众。我大概算是知乎最后一批未出圈的用户。<br>
我最开始选了自己感兴趣的几个话题，进入知乎以后，看到知乎“一个问题多个回答”的内容形式，先是感到很新奇，在阅读几个回答以后，我认为知乎的内容质量不是一般的高。<br>
我使用知乎的经历就此开始。</p>
<h1 id="0x01-发展">0x01 发展</h1>
<p>知乎客户端改版以前，我一直没怎么重度使用知乎，一直作为一个轻度使用者，很少点赞、评论，从不提问、回答。<br>
知乎改版大概是我对知乎使用频率和使用时间的拐点。知乎改版后，我开始更多地用知乎看我想看的内容。从最开始数码产品的评价，各种热点事件的看法，各种热点问题，到后来我知道了<a href="https://www.zhihu.com/people/excited-vczh">轮子哥</a>，知道了“抖机灵”，知道了几个业内大佬，还认识了几个本地人。我开始频繁使用知乎的那段时间大概也是知乎用户数暴涨的的时间，也是知乎开始大规模变现的时间。客户端开始出现广告，开始力推盐选会员，知识付费，但是使用体验和内容质量没啥下降。<br>
我在2018年7月购买了我人生第一场Live，虽然后来并没有坚持，主要是因为我对这类知识的需求并不大。<br>
现在我的知乎使用习惯大概就是那个时候养成的。我一步步接受知乎的过程同时也是知乎一步步出圈的过程。</p>
<h1 id="0x02-看法">0x02 看法</h1>
<p>给不了解知乎的读者简单介绍一下：知乎是一个知识共享平台，内容以“问题+多个回答”为主要形式。<br>
现在知乎的用户受众和三年前我感觉根本不是一个数量级。<br>
但是在我看来，知乎仍然是整个国内互联网社区氛围比较好，讨论问题深度最深，观点最客观最可信最具体，干货最多的开放型互联网平台。<br>
任何又讨论价值的社会事件都会在原生平台（事情发生的平台）开始发酵传播，规模达到一定程度，在知乎一定会出现“怎样看待x”这样的问题，一定会有真正的大佬以理性的态度用干货知识对事件本身和前因后果做完整剖析，然后才是各种营销号和自媒体开始“洗稿”，传播大佬们的知识，让公众了解到社会事件的真相。<br>
知乎整体创作氛围非常理想。“问题+回答”的形式类似贴吧，但是规定了讨论范围，不能偏题。知乎曾经是一个邀请制的平台，最早的一批用户质量极高，“人均985”当年是真的能实现。这部分元老用户为知乎整体社区环境和平台精神打下了良好的基础，知乎也满足了这部分人的表达欲望，给予了他们满足感。<br>
营销号在知乎很难活下去，大V们的对线能力至少不是我能想象的。在这样一个充斥着高质量内容的平台，劣币驱逐良币的现象很难发生。<br>
虽然知乎用户变多了，到现在有了两亿的注册用户，但在我看来知乎精神没变，有些大V虽然离开了，但是有更多大V，更多的行业专家正在加入知乎。越来越多的机构也在加入知乎，回答关于他们的“利益相关”问题。<br>
知乎的娱乐内容发展迅速。“知乎宇宙”“故事会”这些奇怪的话题下开始涌现各种问题和专栏文章，用严肃的分析分析出有意思的结论，用学术的视角看待有趣的问题，各种“泻药”“人在xx，刚下飞机”“人均985”的梗层出不穷，这些表现形式正在成为知乎专属的娱乐方式。</p>
<p>举几个简单的例子：</p>
<ul>
<li><a href="https://www.zhihu.com/question/286619877/answer/789158954">给你 10 亿美元，但会有一只蜗牛永远追杀你，你干不干？</a></li>
<li><a href="https://www.zhihu.com/question/343585330">假如有一个按钮，按下去可以获得十亿元，但五百年后人类会毁灭，你会按吗？</a></li>
</ul>
<p>知乎本身是一个知识分享平台，虽然现在很多人认为“知乎”变成了“逼乎”，但是我认为知乎知识分享的本质没有变，大多数热点事件在知乎还是能够得到理性讨论，专业人士和行业精英们依然能够为我们回答问题。知乎可以说是目前互联网信息传播链上不可或缺的一环。没有知乎大V的理性分析，热点就不能称之为热点。知乎优胜劣汰的风气没有变，依然具有很强大的带货能力，只要是优质商品，被各路神仙看到，理性分析一波，产品本身只要是优秀的，就能收获大量赞同，带来大量销量。<br>
举个例子：<a href="https://www.zhihu.com/question/382731837">如何评价 2020 年 3 月 26 日发布的华为 P40 系列？有哪些亮点和不足？</a>发布会当晚就出现了这个问题。各路答主有人做与友商的对比分析，有人做发布会总结，有人预测国内价格，有人分析华为的整体战略，有人分析手机本身用到的技术。这样活跃的社区氛围和高质量的内容足以证明知乎目前的深度。<br>
毫无疑问，知乎已经成为中国互联网信息传播链上不可或缺的一环，“有问题，上知乎”绝不是一句空话。知乎当之无愧是当代中国互联网最理性，最有深度的平台。是门槛最低的获取知识的平台。</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Lilm开发日记]]></title>
        <id>https://lwzheng.icu/post/lilm-kai-fa-ri-ji/</id>
        <link href="https://lwzheng.icu/post/lilm-kai-fa-ri-ji/">
        </link>
        <updated>2020-03-26T14:40:07.000Z</updated>
        <summary type="html"><![CDATA[<p>人生第一个app的开发日记</p>
]]></summary>
        <content type="html"><![CDATA[<p>人生第一个app的开发日记</p>
<!-- more -->
<p>Lilm（Lilm Is an Library Manager）（音： ri ru mu / リルム）是我和<a href="https://www.scchan.com/">csc</a>合作开发的目前（2020.3.26）八字没一撇的开源图书管理软件</p>
<h1 id="起因">起因</h1>
<p>本节于2020.3.26更新<br>
<a href="https://www.scchan.com/">csc</a>买了个条码枪，要做图书馆管理，我正好能帮上忙，就来凑个热闹<br>
最开始csc找了<a href="https://github.com/kovidgoyal/calibre">calibre</a>，但是我想造个轮子，于是就开始构思和理论论证<br>
Lilm就诞生了</p>
<h1 id="架构">架构</h1>
<p>本节于2020.3.26更新<br>
<img src="https://i.loli.net/2020/03/26/LpqKADuhygorWRv.png" alt="架构图" loading="lazy"><br>
目前暂时按照图上的架构进行开发。GUI部分还没有确定要怎么写，后端的需求很明确，思路很明确，架构也很明确。</p>
<h2 id="模块">模块</h2>
<p>本节于2020.3.29更新<br>
计划要分为5个主要模块</p>
<ul>
<li>main.py<br>
主模块，负责接收发送请求，调用其他模块，协调各模块之间的功能</li>
<li>data.py<br>
数据库模块，负责数据库操作，包括存入，读取，删除，计划采用SQLAlchemy</li>
<li>code.py<br>
数据编解码模块，负责将各种数据处理成Dataclass，将Dataclass处理成Json</li>
<li>api.py<br>
供前端调用的api，计划采用Flask实现，未来还要写Route</li>
<li>get.py<br>
从Douban api爬取数据的模块，返回Json</li>
</ul>
<h2 id="数据爬取">数据爬取</h2>
<p>本节于2020.3.29更新<br>
直接GET，调用<a href="https://github.com/qiaohaoforever/DoubanBook">Douban api</a></p>
<pre><code class="language-python">
import requests


def get(isbn):
    isbn = str(isbn)
    url = 'http://book.feelyou.top/isbn/'
    url = url+isbn
    print('Getting information from', url, '……')
    result = requests.get(url)
    return result.json()
</code></pre>
<h2 id="数据编码">数据编码</h2>
<p>本节于2020.3.29更新<br>
数据编码使用Dataclass，数据格式与Douban api返回格式相同</p>
<pre><code class="language-python">from dataclasses import dataclass
import jsonpickle
import typing
@dataclass
class Rating:
    count: int
    rating_info: str
    star_count: float
    value: float


@dataclass
class Comment:
    user_name: str
    user_page: str
    user_pic: str
    vote: str
    rate: str
    time: str
    content: str


@dataclass
class BookData:
    create_time: str
    isbn: str
    title: str
    abstract: str
    book_intro: str
    author_intro: str
    catalog: str
    original_texts: list
    labels: list
    cover_url: str
    url: str
    rating: Rating
    comments: typing.List[Comment]
    source: str


def decode(source):  #将爬取的dict转换为为BookData类型
    data = BookData(**source)
    return data


def encode(source):  #将BookData转换为Json
    return jsonpickle.encode(source)
</code></pre>
<h2 id="后端api">后端api</h2>
<h3 id="查询">查询</h3>
<ul>
<li>功能:查询在库书籍</li>
<li>调用地址:ip:port/qu</li>
<li>请求方式:GET</li>
<li>返回类型:JSON</li>
</ul>
<p>参数</p>
<table>
<thead>
<tr>
<th style="text-align:center">名称</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">是否必选</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ISBN</td>
<td style="text-align:center">String</td>
<td style="text-align:center">是</td>
</tr>
</tbody>
</table>
<ul>
<li>示例:ip:port/qu/9787506380263</li>
<li>实现
<ul>
<li>后端flask接到参数，调用SQLAlchemy</li>
<li>SQLAlchemy查询关于书的资料，返回JSON类型，封装到Dataclass</li>
<li>Dataclass编码成JSON返回到flask</li>
<li>flask将JSON返回到GUI</li>
</ul>
</li>
<li>异常处理
<ul>
<li>Douban api无书籍信息的异常处理</li>
<li>前端查询无书籍信息的异常处理</li>
<li>手动数据录入输入格式错误的异常处理（交给前端）<br>
好<sub>麻</sub>烦<sub>啊</sub></li>
</ul>
</li>
</ul>
<h3 id="添加">添加</h3>
<ul>
<li>功能:添加书籍
<ul>
<li>子功能：手动录入数据（计划写一个WebUI直接在前端弹出一个浏览器窗口，或者前端POST）</li>
</ul>
</li>
</ul>
<p>先坑着，好像得改架构</p>
<h3 id="修改">修改</h3>
<ul>
<li>功能:修改借阅状态，删除书籍<br>
先坑着</li>
</ul>
<h2 id="前端">前端</h2>
<p>大坑，计划采用Qt或Electron</p>
<h1 id="后记">后记</h1>
<ul>
<li>2020.3.26：本项目立项，希望不要烂尾
<ul>
<li>需要学习的内容：SQLAlchemy，Flask</li>
</ul>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[关于我对某“DID患者”的看法]]></title>
        <id>https://lwzheng.icu/post/wo-ge-ren-dui-hui-xing-zhen-de-kan-fa/</id>
        <link href="https://lwzheng.icu/post/wo-ge-ren-dui-hui-xing-zhen-de-kan-fa/">
        </link>
        <updated>2020-03-25T03:55:35.000Z</updated>
        <summary type="html"><![CDATA[<p>这件事情非常一颗赛艇啊，笑死我了wdm</p>
]]></summary>
        <content type="html"><![CDATA[<p>这件事情非常一颗赛艇啊，笑死我了wdm</p>
<!-- more -->
<h1 id="我个人对她的看法">我个人对她的看法</h1>
<p>本文所指“DID患者”为Bilibili名为<a href="https://space.bilibili.com/83953807">SystemAMWE</a>的up主，祝早日康复<br>
首先我承认DID患者是一个真实存在的群体，<a href="https://en.wikipedia.org/wiki/Dissociative_identity_disorder">DID</a>是一个真实存在的疾病。<br>
这个小姑娘多精神啊，一看就不像精神有问题，穿着打扮很得体，说话流利，看起来也很聪明<br>
首先这个“三十个人格”就很有意思，再加俩，带个超线程，就变成<a href="https://www.amd.com/zh-hans/products/cpu/amd-ryzen-threadripper-3970x">3970X</a>，成为线程撕裂者了，人肉高性能计算指日可待。<br>
三十个人格轮流上线控评，这是把b站当他们开Party的地方了？<br>
拥有三十个人格但是并不在中科院，替中科院感到可惜。</p>
<h1 id="我个人对财富密码的看法">我个人对“财富密码”的看法</h1>
<p>我感觉精神疾病，或者说“装病”真的已经成了致富经<br>
几十万几百万的播放换算成激励计划应该是一笔不小的收入，成本几乎可以忽略不计，这完全是空手套白狼<br>
建议b站审核上点心，对精神疾病患者提出一点要求，至少要有个认证，或者专门开个“病友区”，供用户观看。<br>
现在是个人都能发个视频：《我被网暴了，得了xxx》，编故事比知乎还真实，博取各种同情心然后拿了钱就跑，成本低，收入高，令人迷惑。<br>
精神疾病不能成为钓鱼的鱼饵，它不能被消费，这是在消费观众也好民众也罢对这类事情的信任，最后的受害者是真正的患者。<br>
这是一种很不负责任的行为，作为观众，我们必须提高我们的姿势水平，这种财富密码不应该存在。<br>
我当然也希望真正的患者能够拿出真正的证据，没有证据一定会有猜疑。</p>
<h1 id="写个伪通稿造福各位蹭热度的友军">写个伪通稿，造福各位蹭热度的友军</h1>
<p>Hi！<br>
我们是___患者，<em><strong>过去的名称叫做</strong></em>，我的体内有_____个人格<br>
目前事情还不算太糟<br>
欢迎来到我们的频道！<br>
我是(up主名称)的主人格，我叫____，你们可以叫我____。<br>
（此处画面上有主人格介绍）<br>
___是什么？</p>
<ul>
<li>各种扯，各种编<br>
最后扯自己的经历<br>
最后要三连</li>
</ul>
]]></content>
    </entry>
</feed>